<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Club Homepage</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>

    <link rel="stylesheet" href="/static/style.css">

    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        .container-fluid {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .table-container {
            flex: 1;
            overflow-y: auto;
        }
    </style>
</head>

<body ng-app="memberHome" ng-controller="memberHomeController">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
        // Create a new Image object for preloading the hover image
        var hoverImage = new Image();
        hoverImage.src = "/static/tuffy-small-bred.webp";
        
        // Find the logo-outer element
        var logoOuter = document.querySelector('.logo-outer');
        // Find the logo-inner element
        var logoInner = document.querySelector('.logo-inner');
        
        // When mouse enters logo-outer, update logo-inner src to the hover image
        logoOuter.addEventListener('mouseenter', function() {
            logoInner.src = hoverImage.src;
        });
        
        // When mouse leaves logo-outer, revert logo-inner src to the original image
        logoOuter.addEventListener('mouseleave', function() {
            logoInner.src = "/static/tuffy-small-whiteline.webp";
        });
    });
    </script>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md">
        <div class="container">
            <!-- Offcanvas toggle button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar header/brand centered -->
            <a class="navbar-brand mx-auto justify-content-between logo-outer" href="/club/">
                <span>NC State</span>
                <img src="/static/tuffy-small-whiteline.webp" class="logo-inner">
                <span>Club Tennis</span>
            </a>
            <!-- Offcanvas navbar content -->
            <div class="offcanvas offcanvas-start offcanvas-red" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h3 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/club/challenge">Challenge</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/club/announcements">Announcements</a>
                        </li>
                        <li class="nav-item" >
                            <a class="nav-link" href="/admin/">Admin Console</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/auth/logout">Sign Out</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Site Body -->
    <div class="container mt-5"> 
        <h1>Admin Features</h1>
        <p>This page will go over how to use the different administrative features of the website in the order they appear in the admin console.</p>
        
        <hr/>
        <h2>Send Announcement</h2>
        <p>This should be your main option for all mass-communication with the club. Clicking "Send Announcement" will take you to a page where you are given an editor similar to google docs (no need to learn any HTML). From here, you can create your announcement with formatting, and insert pictures in one of two ways:</p>
        <ul>
            <li><strong>From the internet</strong>: Click the icon that looks like a painting, Right click your desired picture on the internet and select "Copy Image link/address" and paste it in the "link" field in your editor.</li>
            <li><strong>From your device (preferred)</strong>: Click the icon with a 64 in a box and then choose to upload a picture from your device. PNG, JPG/JPEG, and WEBP are supported.</li>
        </ul>
        <h4>Announcement emails</h4>
        <p>Just below the editor is a checkbox that, if checked, will send the announcement to everyone in the club via email. Due to the strict quota enacted by Gmail, <strong>officers should send no more than 3 email announcements per day</strong>. Exceeding this quota could interfere with the server's challenge service.</p>
        <p>There is no quota for sending announcements without notifying the club, but the server does have a ~20GB storage limit for uploaded pictures. Old announcements can be deleted if this quota is met to free up space. Announcements are deleted by clicking "delete" under the announcement on the "Announcements" page.</p>

        <hr/>

        <h2>Edit Members</h2>
        <p>This is where you can change user info, user ranks, and add new users.</p>
        <h4>Add new member</h4>
        <p>This form will add a new member to the club. All fields are required to be filled in for the member to be added. The fields are as follows:</p>
        <ul>
            <li>First Name</li>
            <li>Last Name</li>
            <li>Unity ID (or just the first portion of their email)</li>
            <li>Affiliation: the club members affiliation ie. NCSU or Skema</li>
            <li>Signin Email: <strong>IMPORTANT: This must be an email ending in @ncsu.edu or @gmail.com.</strong> This site uses Google OAUTH SSO for sign-in for security reasons, which means a google account is required for signin.</li>
            <li>Contact Email: For most users, this is just their @ncsu.edu email. For non-ncsu members, this would be their main email address (skema, personal email, etc.) this does not have to be a gmail address.</li>
            <li>Ladder: Mens or Womens</li>
            <li>Is Active: Checking this option will mark a player as "active" (able to be challenged by others)</li>
            <li>Is Officer: Checking this option will give the user administrative privelages</li>
        </ul>
        <h4>Upload/Download user list</h4>
        <p>This area enables you to edit the club members using programs like excel or google docs.</p>

        <h5>Download Users</h5>
        <p>This will download a spreadsheet that represents the entire club user database. You can create a dummy user with the "Add New Member" field and click the download button to see how a user is represented.</p>
        <h5>Upload Users</h5>
        <p>This option will update the club database using the fields in the provided excel spreadsheet</p>
        <div class="alert alert-danger" role="alert">
            <p><strong>IMPORTANT</strong>: it is crucial that the format is followed EXACTLY. The order of columns (including blank ones) matters.</p>
        </div>
        <p>The field CanChallenge should be left false. This is used by the code internally to decide if a user can be challenged and does not matter when uploading new users.</p>
        <p>It is reccommended that you check "Replace existing users" when doing mass updates. I'm not gonna lie this is a very finnicky yet powerful feature.</p>
        <h4>Members</h4>
        <p>This area lists all members in the club and gives you the ability to edit things like their rank in-site. Adjusting someones rank here behaves similarly to challenge matches.</p>
        <hr/>


        <h2>Edit public homepage</h2>
        <p>This page allows admins to edit the public-facing homepage and slideshow. This is a good place to put information like try-out dates and promotional pictures.</p>
        <p>The custom welcome page appears just below the slideshow and can be updated in a way just like announcements.</p>
        <p>New slides can be uploaded from the "Upload new slides" area at the bottom of the page. These slides are optimized by the server and may take a while to take effect.</p>
        <hr/>

        <h2>Match Manager</h2>
        <p>This is a place where admins can cancel matches or submit scores on behalf of users. A cancelled match is deleted from the database and the users are free to challenge people after a match is cancelled. A deleted match is treated as if it never happened.</p>
        <p>Matches cannot be deleted after they have concluded. If you suspect someone has abused the system, you can manually change their ranking on the "Edit Users" page.</p>

        <hr/>

        <h2>Edit Ladder/Challenge Rules</h2>
        <p>This is where challenge/ladder rules can be edited.</p>
        <h4>Red/White Team Cutoff</h4>
        <p>This form allows officers to edit the cutoff point of the red/white team for both the men's and women's ladder. This cutoff point is the lowest rank that someone can be and still be on the red team (represented with a 🟥).</p>
        <h4>Ladder Rules</h4>
        <p>This field is the text that will display when someone selects the "Ladder Rules" button on the club homepage. This is a good place for miscellaneous info like practice schedules.</p>
        <h4>Challenge Rules</h4>
        <p>This field contains the rules of a challenge match (no ads, tiebreaker format, etc.) This page is shown when someone selects the "challenge rules" button on the challenge page.</p>

        <hr/>
        <h2>Hard Reset Server</h2>
        <p>This will perform a hard reset of the server and is only reccomended once the school year has concluded.</p>
        <p>Due to the dangerous nature of this function, only the clubtennis email account can perform a hard reset.</p>
        <a class="btn btn-primary" href="javascript:history.back()">Return</a>
    </div>

</body>
</html>
